!function(e){"function"==typeof define&&define.amd?window.Velocity?define(e):define(["jquery"],e):e("object"==typeof exports?window.Velocity?require("jquery"):void 0:window.jQuery)}(function(e){return function(t,r,i,n){function o(e){var t=d.data(e,f);return null===t?n:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function s(e,t){var r=e;return $.isString(e)?v.Easings[e]||(r=!1):r=$.isArray(e)&&1===e.length?a.apply(null,e):$.isArray(e)&&2===e.length?x.apply(null,e.concat([t])):!!$.isArray(e)&&4===e.length&&_.apply(null,e),!1===r&&(r=v.Easings[v.defaults.easing]?v.defaults.easing:g),r}function l(e){if(e){for(var t=(new Date).getTime(),r=0,i=v.State.calls.length;i>r;r++)if(v.State.calls[r]){var a=v.State.calls[r],s=a[0],c=a[2],p=a[3];p||(p=v.State.calls[r][3]=t-16);for(var d=Math.min((t-p)/c.duration,1),f=0,g=s.length;g>f;f++){var h=s[f],y=h.element;if(o(y)){var S=!1;for(var _ in c.display&&"none"!==c.display&&b.setPropertyValue(y,"display",c.display),c.visibility&&"hidden"!==c.visibility&&b.setPropertyValue(y,"visibility",c.visibility),h)if("element"!==_){var x,P=h[_],V=$.isString(P.easing)?v.Easings[P.easing]:P.easing;if(x=1===d?P.endValue:P.startValue+(P.endValue-P.startValue)*V(d),P.currentValue=x,b.Hooks.registered[_]){var w=b.Hooks.getRoot(_),C=o(y).rootPropertyValueCache[w];C&&(P.rootPropertyValue=C)}var k=b.setPropertyValue(y,_,P.currentValue+(0===parseFloat(x)?"":P.unitType),P.rootPropertyValue,P.scrollData);b.Hooks.registered[_]&&(o(y).rootPropertyValueCache[w]=b.Normalizations.registered[w]?b.Normalizations.registered[w]("extract",null,k[1]):k[1]),"transform"===k[0]&&(S=!0)}c.mobileHA&&o(y).transformCache.translate3d===n&&(o(y).transformCache.translate3d="(0px, 0px, 0px)",S=!0),S&&b.flushTransformCache(y)}}c.display&&"none"!==c.display&&(v.State.calls[r][2].display=!1),c.visibility&&"hidden"!==c.visibility&&(v.State.calls[r][2].visibility=!1),c.progress&&c.progress.call(a[1],a[1],d,Math.max(0,p+c.duration-t),p),1===d&&u(r)}}v.State.isTicking&&(v.mock?l(!0):m(l))}function u(e,t){if(!v.State.calls[e])return!1;for(var r=v.State.calls[e][0],i=v.State.calls[e][1],a=v.State.calls[e][2],s=v.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var p=r[u].element;if(t||a.loop||("none"===a.display&&b.setPropertyValue(p,"display",a.display),"hidden"===a.visibility&&b.setPropertyValue(p,"visibility",a.visibility)),(d.queue(p)[1]===n||!/\.velocityQueueEntryFlag/i.test(d.queue(p)[1]))&&o(p)){o(p).isAnimating=!1,o(p).rootPropertyValueCache={};var f=!1;d.each(o(p).transformCache,function(e,t){RegExp("^\\("+(/^scale/.test(e)?1:0)+"[^.]").test(t)&&(f=!0,delete o(p).transformCache[e])}),a.mobileHA&&(f=!0,delete o(p).transformCache.translate3d),f&&b.flushTransformCache(p),b.Values.removeClass(p,"velocity-animating")}if(!t&&a.complete&&!a.loop&&u===c-1)try{a.complete.call(i,i)}catch(g){setTimeout(function(){throw g},1)}s&&!0!==a.loop&&s(i),!0!==a.loop||t||v.animate(p,"reverse",{loop:!0,delay:a.delay}),!1!==a.queue&&d.dequeue(p,a.queue)}v.State.calls[e]=!1;for(var h=0,y=v.State.calls.length;y>h;h++)if(!1!==v.State.calls[h]){l=!0;break}!1===l&&(v.State.isTicking=!1,delete v.State.calls,v.State.calls=[])}var c,p,d,f="velocity",g="swing",h=function(){if(i.documentMode)return i.documentMode;for(var e=7;e>4;e--){var t=i.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return n}(),y=(c=0,r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||function(e){var t,r=(new Date).getTime();return t=Math.max(0,16-(r-c)),c=r+t,setTimeout(function(){e(r+t)},t)}),m=r.requestAnimationFrame||y,$={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||r.Zepto&&r.Zepto.zepto.isZ(e))},isSVG:function(e){return r.SVGElement&&e instanceof SVGElement},isEmptyObject:function(e){var t;for(t in e)return!1;return!0}};if(e&&e.fn!==n?d=e:r.Velocity&&r.Velocity.Utilities&&(d=r.Velocity.Utilities),!d)throw Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(t.Velocity!==n&&t.Velocity.Utilities==n)throw Error("Velocity: Namespace is occupied.");if(7>=h){if(e)return void(e.fn.velocity=e.fn.animate);throw Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===h&&!e)throw Error("Velocity: For IE8, Velocity requires jQuery proper to be loaded; Velocity's jQuery shim does not work with IE8.");var v={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:r.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:d,Sequences:{},Easings:{},Promise:r.Promise,defaults:{queue:"",duration:400,easing:g,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){d.data(e,f,{isSVG:$.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:function(){},hook:function(e,t,r){var i=n;return $.isWrapped(e)&&(e=[].slice.call(e)),d.each($.isNode(e)?[e]:e,function(e,a){if(o(a)===n&&v.init(a),r===n)i===n&&(i=v.CSS.getPropertyValue(a,t));else{var s=v.CSS.setPropertyValue(a,t,r);"transform"===s[0]&&v.CSS.flushTransformCache(a),i=s}}),i},mock:!1,version:{major:0,minor:11,patch:1},debug:!1};r.pageYOffset!==n?(v.State.scrollAnchor=r,v.State.scrollPropertyLeft="pageXOffset",v.State.scrollPropertyTop="pageYOffset"):(v.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,v.State.scrollPropertyLeft="scrollLeft",v.State.scrollPropertyTop="scrollTop");var S,_=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function r(e){return 3*e}function i(r,i,n){var o;return((e(i,n)*r+t(i,n))*r+3*(o=i))*r}function n(r,i,n){var o;return 3*e(i,n)*r*r+2*t(i,n)*r+3*(o=i)}return function(e,t,r,o){if(4!==arguments.length)return!1;for(var a=0;4>a;++a)if("number"!=typeof arguments[a]||isNaN(arguments[a])||!isFinite(arguments[a]))return!1;return e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0),function(a){return e===t&&r===o?a:i(function t(o){for(var a=o,s=0;8>s;++s){var l=n(a,e,r);if(0===l)break;var u=i(a,e,r)-o;a-=u/l}return a}(a),t,o)}}}(),x=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,i){var n={x:t.x+i.dx*r,v:t.v+i.dv*r,tension:t.tension,friction:t.friction};return{dx:n.v,dv:e(n)}}function r(r,i){var n={dx:r.v,dv:e(r)},o=t(r,.5*i,n),a=t(r,.5*i,o),s=t(r,i,a),l=1/6*(n.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(n.dv+2*(o.dv+a.dv)+s.dv);return r.x=r.x+l*i,r.v=r.v+u*i,r}return function e(t,i,n){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,i=parseFloat(i)||20,n=n||null,l.tension=t,l.friction=i,a=(o=null!==n)?(c=e(t,i))/n*.016:.016;s=r(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(e){return u[e*(u.length-1)|0]}:c}}();v.Easings.linear=function(e){return e},v.Easings.swing=function(e){return .5-Math.cos(e*Math.PI)/2},v.Easings.spring=function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(-(6*e))},v.Easings.ease=_(.25,.1,.25,1),v.Easings["ease-in"]=_(.42,0,1,1),v.Easings["ease-out"]=_(0,0,.58,1),v.Easings["ease-in-out"]=_(.42,0,.58,1),S={},d.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){S[t]=function(t){return Math.pow(t,e+2)}}),d.extend(S,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}}),d.each(S,function(e,t){v.Easings["easeIn"+e]=t,v.Easings["easeOut"+e]=function(e){return 1-t(1-e)},v.Easings["easeInOut"+e]=function(e){return .5>e?t(2*e)/2:1-t(-2*e+2)/2}});var b=v.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e,t,r,i=0;i<b.Lists.colors.length;i++)b.Hooks.templates[b.Lists.colors[i]]=["Red Green Blue Alpha","255 255 255 P"];if(h)for(e in b.Hooks.templates){r=(t=b.Hooks.templates[e])[0].split(" ");var n=t[1].match(b.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),n.push(n.shift()),b.Hooks.templates[e]=[r.join(" "),n.join(" ")])}for(e in b.Hooks.templates)for(var i in r=(t=b.Hooks.templates[e])[0].split(" ")){var o=e+r[i],a=i;b.Hooks.registered[o]=[e,a]}},getRoot:function(e){var t=b.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return b.RegEx.valueUnwrap.test(t)&&(t=t.match(b.Hooks.RegEx.valueUnwrap)[1]),b.Values.isCSSNullValue(t)&&(t=b.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=b.Hooks.registered[e];if(r){var i=r[0],n=r[1];return(t=b.Hooks.cleanRootPropertyValue(i,t)).toString().match(b.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var i=b.Hooks.registered[e];if(i){var n,o,a=i[0],s=i[1];return(n=(r=b.Hooks.cleanRootPropertyValue(a,r)).toString().match(b.RegEx.valueSplit))[s]=t,o=n.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var i;return b.RegEx.wrappedValueAlreadyExtracted.test(r)?r:(i=r.toString().match(b.RegEx.valueUnwrap))?i[1].replace(/,(\s+)?/g," "):r;case"inject":return"rect("+r+")"}},opacity:function(e,t,r){if(8>=h)switch(e){case"name":return"filter";case"extract":var i=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){9>=h||v.State.isGingerbread||(b.Lists.transformsBase=b.Lists.transformsBase.concat(b.Lists.transforms3D));for(var e=0;e<b.Lists.transformsBase.length;e++)!function(){var t=b.Lists.transformsBase[e];b.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return"transform";case"extract":return o(r)===n||o(r).transformCache[t]===n?/^scale/i.test(t)?1:0:o(r).transformCache[t].replace(/[()]/g,"");case"inject":var a=!1;switch(t.substr(0,t.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":v.State.isAndroid&&o(r).transformCache[t]===n&&1>i&&(i=1),a=!/(\d)$/i.test(i);break;case"skew":case"rotate":a=!/(deg|\d)$/i.test(i)}return a||(o(r).transformCache[t]="("+i+")"),o(r).transformCache[t]}}}();for(var e=0;e<b.Lists.colors.length;e++)!function(){var t=b.Lists.colors[e];b.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return t;case"extract":var o;if(b.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?a=s[i]!==n?s[i]:s.black:b.RegEx.isHex.test(i)?a="rgb("+b.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(a=s.black),o=(a||i).toString().match(b.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=h||3!==o.split(" ").length||(o+=" P"),o;case"inject":return 8>=h?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" P"),(8>=h?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||v.State.isAndroid&&!v.State.isChrome)&&(t+="|transform"),RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(v.State.prefixMatches[e])return[v.State.prefixMatches[e],!0];for(var t,r=["","Webkit","Moz","ms","O"],i=0,n=r.length;n>i;i++)if(t=0===i?e:r[i]+e.replace(/^\w/,function(e){return e.toUpperCase()}),$.isString(v.State.prefixElement.style[t]))return v.State.prefixMatches[e]=t,[t,!0];return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,i){return t+t+r+r+i+i}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,t,i,a){function s(e,t){function i(){c&&b.setPropertyValue(e,"display","none")}var l=0;if(8>=h)l=d.css(e,t);else{var u,c=!1;if(/^(width|height)$/.test(t)&&0===b.getPropertyValue(e,"display")&&(c=!0,b.setPropertyValue(e,"display",b.Values.getDisplayType(e))),!a){if("height"===t&&"border-box"!==b.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetHeight-(parseFloat(b.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(b.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(b.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(b.getPropertyValue(e,"paddingBottom"))||0);return i(),p}if("width"===t&&"border-box"!==b.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(b.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(b.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(b.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(b.getPropertyValue(e,"paddingRight"))||0);return i(),f}}u=o(e)===n?r.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=r.getComputedStyle(e,null),(h||v.State.isFirefox)&&"borderColor"===t&&(t="borderTopColor"),(""===(l=9===h&&"filter"===t?u.getPropertyValue(t):u[t])||null===l)&&(l=e.style[t]),i()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(t)){var g=s(e,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(t))&&(l=d(e).position()[t]+"px")}return l}if(b.Hooks.registered[t]){var l,u,c,p=t,f=b.Hooks.getRoot(p);i===n&&(i=b.getPropertyValue(e,b.Names.prefixCheck(f)[0])),b.Normalizations.registered[f]&&(i=b.Normalizations.registered[f]("extract",e,i)),l=b.Hooks.extractValue(p,i)}else b.Normalizations.registered[t]&&("transform"!==(u=b.Normalizations.registered[t]("name",e))&&(c=s(e,b.Names.prefixCheck(u)[0]),b.Values.isCSSNullValue(c)&&b.Hooks.templates[t]&&(c=b.Hooks.templates[t][1])),l=b.Normalizations.registered[t]("extract",e,c));return/^[\d-]/.test(l)||(l=o(e)&&o(e).isSVG&&b.Names.SVGAttribute(t)?/^(height|width)$/i.test(t)?e.getBBox()[t]:e.getAttribute(t):s(e,b.Names.prefixCheck(t)[0])),b.Values.isCSSNullValue(l)&&(l=0),v.debug>=2&&console.log("Get "+t+": "+l),l},setPropertyValue:function(e,t,i,n,a){var s=t;if("scroll"===t)a.container?a.container["scroll"+a.direction]=i:"Left"===a.direction?r.scrollTo(i,a.alternateValue):r.scrollTo(a.alternateValue,i);else if(b.Normalizations.registered[t]&&"transform"===b.Normalizations.registered[t]("name",e))b.Normalizations.registered[t]("inject",e,i),s="transform",i=o(e).transformCache[t];else{if(b.Hooks.registered[t]){var l=t,u=b.Hooks.getRoot(t);n=n||b.getPropertyValue(e,u),i=b.Hooks.injectValue(l,i,n),t=u}if(b.Normalizations.registered[t]&&(i=b.Normalizations.registered[t]("inject",e,i),t=b.Normalizations.registered[t]("name",e)),s=b.Names.prefixCheck(t)[0],8>=h)try{e.style[s]=i}catch(c){v.debug&&console.log("Browser does not support ["+i+"] for ["+s+"]")}else o(e)&&o(e).isSVG&&b.Names.SVGAttribute(t)?e.setAttribute(t,i):e.style[s]=i;v.debug>=2&&console.log("Set "+t+" ("+s+"): "+i)}return[s,i]},flushTransformCache:function(e){function t(t){return parseFloat(b.getPropertyValue(e,t))}var r,i,n="";if((h||v.State.isAndroid&&!v.State.isChrome)&&o(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};d.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(n+=e+"("+a[e].join(" ")+") ",delete a[e])})}else d.each(o(e).transformCache,function(t){return r=o(e).transformCache[t],"transformPerspective"===t?(i=r,!0):(9===h&&"rotateZ"===t&&(t="rotate"),void(n+=t+r+" "))}),i&&(n="perspective"+i+" "+n);b.setPropertyValue(e,"transform",n)}};return b.Hooks.register(),b.Normalizations.register(),v.animate=function(){function e(){return a?P.promise||null:c}function t(){function e(e){function p(e,t){var r=n,i=n,o=n;return $.isArray(e)?(r=e[0],!$.isArray(e[1])&&/^[\d-]/.test(e[1])||$.isFunction(e[1])||b.RegEx.isHex.test(e[1])?o=e[1]:($.isString(e[1])&&!b.RegEx.isHex.test(e[1])||$.isArray(e[1]))&&(i=t?e[1]:s(e[1],u.duration),e[2]!==n&&(o=e[2]))):r=e,t||(i=i||u.easing),$.isFunction(r)&&(r=r.call(a,S,m)),$.isFunction(o)&&(o=o.call(a,S,m)),[r||0,i,o]}function y(e,t){var r,i;return i=(t||0).toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=b.Values.getUnitType(e)),[i,r]}function _(){var e={myParent:a.parentNode||i.body,position:b.getPropertyValue(a,"position"),fontSize:b.getPropertyValue(a,"fontSize")},t=e.position===T.lastPosition&&e.myParent===T.lastParent,n=e.fontSize===T.lastFontSize;T.lastParent=e.myParent,T.lastPosition=e.position,T.lastFontSize=e.fontSize;var s={};if(n&&t)s.emToPx=T.lastEmToPx,s.percentToPxWidth=T.lastPercentToPxWidth,s.percentToPxHeight=T.lastPercentToPxHeight;else{var l=o(a).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");v.init(l),e.myParent.appendChild(l),v.CSS.setPropertyValue(l,"position",e.position),v.CSS.setPropertyValue(l,"fontSize",e.fontSize),v.CSS.setPropertyValue(l,"overflow","hidden"),v.CSS.setPropertyValue(l,"overflowX","hidden"),v.CSS.setPropertyValue(l,"overflowY","hidden"),v.CSS.setPropertyValue(l,"boxSizing","content-box"),v.CSS.setPropertyValue(l,"paddingLeft","100em"),v.CSS.setPropertyValue(l,"minWidth","100%"),v.CSS.setPropertyValue(l,"maxWidth","100%"),v.CSS.setPropertyValue(l,"width","100%"),v.CSS.setPropertyValue(l,"minHeight","100%"),v.CSS.setPropertyValue(l,"maxHeight","100%"),v.CSS.setPropertyValue(l,"height","100%"),s.percentToPxWidth=T.lastPercentToPxWidth=(parseFloat(b.getPropertyValue(l,"width",null,!0))||1)/100,s.percentToPxHeight=T.lastPercentToPxHeight=(parseFloat(b.getPropertyValue(l,"height",null,!0))||1)/100,s.emToPx=T.lastEmToPx=(parseFloat(b.getPropertyValue(l,"paddingLeft"))||1)/100,e.myParent.removeChild(l)}return null===T.remToPx&&(T.remToPx=parseFloat(b.getPropertyValue(i.body,"fontSize"))||16),null===T.vwToPx&&(T.vwToPx=parseFloat(r.innerWidth)/100,T.vhToPx=parseFloat(r.innerHeight)/100),s.remToPx=T.remToPx,s.vwToPx=T.vwToPx,s.vhToPx=T.vhToPx,v.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),a),s}if(u.begin&&0===S)try{u.begin.call(f,f)}catch(x){setTimeout(function(){throw x},1)}if("scroll"===A){var V,w,C,k=/^x$/i.test(u.axis)?"Left":"Top",H=parseFloat(u.offset)||0;u.container?$.isWrapped(u.container)||$.isNode(u.container)?(u.container=u.container[0]||u.container,C=(V=u.container["scroll"+k])+d(a).position()[k.toLowerCase()]+H):u.container=null:(V=v.State.scrollAnchor[v.State["scrollProperty"+k]],w=v.State.scrollAnchor[v.State["scrollProperty"+("Left"===k?"Top":"Left")]],C=d(a).offset()[k.toLowerCase()]+H),c={scroll:{rootPropertyValue:!1,startValue:V,currentValue:V,endValue:C,unitType:"",easing:u.easing,scrollData:{container:u.container,direction:k,alternateValue:w}},element:a},v.debug&&console.log("tweensContainer (scroll): ",c.scroll,a)}else if("reverse"===A){if(!o(a).tweensContainer)return void d.dequeue(a,u.queue);"none"===o(a).opts.display&&(o(a).opts.display="block"),"hidden"===o(a).opts.visibility&&(o(a).opts.visibility="visible"),o(a).opts.loop=!1,o(a).opts.begin=null,o(a).opts.complete=null,h.easing||delete u.easing,h.duration||delete u.duration,u=d.extend({},o(a).opts,u);var N=d.extend(!0,{},o(a).tweensContainer);for(var j in N)if("element"!==j){var L=N[j].startValue;N[j].startValue=N[j].currentValue=N[j].endValue,N[j].endValue=L,$.isEmptyObject(h)||(N[j].easing=u.easing),v.debug&&console.log("reverse tweensContainer ("+j+"): "+JSON.stringify(N[j]),a)}c=N}else if("start"===A){for(var z in o(a).tweensContainer&&!0===o(a).isAnimating&&(N=o(a).tweensContainer),d.each(g,function(e,t){if(RegExp("^"+b.Lists.colors.join("$|^")+"$").test(e)){var r=p(t,!0),i=r[0],o=r[1],a=r[2];if(b.RegEx.isHex.test(i)){for(var s=["Red","Green","Blue"],l=b.Values.hexToRgb(i),u=a?b.Values.hexToRgb(a):n,c=0;c<s.length;c++)g[e+s[c]]=[l[c],o,u?u[c]:u];delete g[e]}}}),g){var q=p(g[z]),R=q[0],I=q[1],F=q[2];z=b.Names.camelCase(z);var B=b.Hooks.getRoot(z),W=!1;if(o(a).isSVG||!1!==b.Names.prefixCheck(B)[1]||b.Normalizations.registered[B]!==n){(u.display&&"none"!==u.display||u.visibility&&"hidden"!==u.visibility)&&/opacity|filter/.test(z)&&!F&&0!==R&&(F=0),u._cacheValues&&N&&N[z]?(F===n&&(F=N[z].endValue+N[z].unitType),W=o(a).rootPropertyValueCache[B]):b.Hooks.registered[z]?F===n?(W=b.getPropertyValue(a,B),F=b.getPropertyValue(a,z,W)):W=b.Hooks.templates[B][1]:F===n&&(F=b.getPropertyValue(a,z));var N,X,Y,O,G=!1;if(F=(X=y(z,F))[0],O=X[1],R=(X=y(z,R))[0].replace(/^([+-\/*])=/,function(e,t){return G=t,""}),Y=X[1],F=parseFloat(F)||0,R=parseFloat(R)||0,"%"===Y&&(/^(fontSize|lineHeight)$/.test(z)?(R/=100,Y="em"):/^scale/.test(z)?(R/=100,Y=""):/(Red|Green|Blue)$/i.test(z)&&(R=R/100*255,Y="")),/[\/*]/.test(G))Y=O;else if(O!==Y&&0!==F){if(0===R)Y=O;else{t=t||_();var Z=/margin|padding|left|right|width|text|word|letter/i.test(z)||/X$/.test(z)?"x":"y";switch(O){case"%":F*="x"===Z?t.percentToPxWidth:t.percentToPxHeight;break;case"px":break;default:F*=t[O+"ToPx"]}switch(Y){case"%":F*=1/("x"===Z?t.percentToPxWidth:t.percentToPxHeight);break;case"px":break;default:F*=1/t[Y+"ToPx"]}}}switch(G){case"+":R=F+R;break;case"-":R=F-R;break;case"*":R*=F;break;case"/":R=F/R}c[z]={rootPropertyValue:W,startValue:F,currentValue:F,endValue:R,unitType:Y,easing:I},v.debug&&console.log("tweensContainer ("+z+"): "+JSON.stringify(c[z]),a)}else v.debug&&console.log("Skipping ["+B+"] due to a lack of browser support.")}c.element=a}c.element&&(b.Values.addClass(a,"velocity-animating"),E.push(c),o(a).tweensContainer=c,o(a).opts=u,o(a).isAnimating=!0,S===m-1?(v.State.calls.length>1e4&&(v.State.calls=function e(t){for(var r=-1,i=t?t.length:0,n=[];++r<i;){var o=t[r];o&&n.push(o)}return n}(v.State.calls)),v.State.calls.push([E,f,u,null,P.resolver]),!1===v.State.isTicking&&(v.State.isTicking=!0,l())):S++)}var t,a=this,u=d.extend({},v.defaults,h),c={};if(o(a)===n&&v.init(a),parseFloat(u.delay)&&!1!==u.queue&&d.queue(a,u.queue,function(e){v.velocityQueueEntryFlag=!0,o(a).delayTimer={setTimeout:setTimeout(e,parseFloat(u.delay)),next:e}}),!0===v.mock)u.duration=1;else switch(u.duration.toString().toLowerCase()){case"fast":u.duration=200;break;case"normal":u.duration=400;break;case"slow":u.duration=600;break;default:u.duration=parseFloat(u.duration)||1}u.easing=s(u.easing,u.duration),u.begin&&!$.isFunction(u.begin)&&(u.begin=null),u.progress&&!$.isFunction(u.progress)&&(u.progress=null),u.complete&&!$.isFunction(u.complete)&&(u.complete=null),u.display&&(u.display=u.display.toString().toLowerCase(),"auto"===u.display&&(u.display=v.CSS.Values.getDisplayType(a))),u.visibility&&(u.visibility=u.visibility.toString().toLowerCase()),u.mobileHA=u.mobileHA&&v.State.isMobile&&!v.State.isGingerbread,!1===u.queue?u.delay?setTimeout(e,u.delay):e():d.queue(a,u.queue,function(t,r){return!0===r?(P.promise&&P.resolver(f),!0):(v.velocityQueueEntryFlag=!0,void e(t))}),""!==u.queue&&"fx"!==u.queue||"inprogress"===d.queue(a)[0]||d.dequeue(a)}var a,c,p,f,g,h,y=arguments[0]&&(d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||$.isString(arguments[0].properties));if($.isWrapped(this)?(a=!1,p=0,f=this,c=this):(a=!0,p=1,f=y?arguments[0].elements:arguments[0]),f=$.isWrapped(f)?[].slice.call(f):f){y?(g=arguments[0].properties,h=arguments[0].options):(g=arguments[p],h=arguments[p+1]);var m=$.isArray(f)||$.isNodeList(f)?f.length:1,S=0;if("stop"!==g&&!d.isPlainObject(h)){var _=p+1;h={};for(var x=_;x<arguments.length;x++)!$.isArray(arguments[x])&&/^\d/.test(arguments[x])?h.duration=parseFloat(arguments[x]):$.isString(arguments[x])||$.isArray(arguments[x])?h.easing=arguments[x]:$.isFunction(arguments[x])&&(h.complete=arguments[x])}var P={promise:null,resolver:null,rejecter:null};switch(a&&v.Promise&&(P.promise=new v.Promise(function(e,t){P.resolver=e,P.rejecter=t})),g){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"stop":d.each($.isNode(f)?[f]:f,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer)});var V=[];return d.each(v.State.calls,function(e,t){t&&d.each($.isNode(t[1])?[t[1]]:t[1],function(t,r){d.each($.isNode(f)?[f]:f,function(t,i){if(i===r){if(o(i)&&d.each(o(i).tweensContainer,function(e,t){t.endValue=t.currentValue}),!0===h||$.isString(h)){var n=$.isString(h)?h:"";d.each(d.queue(i,n),function(e,t){$.isFunction(t)&&t(null,!0)}),d.queue(i,n,[])}V.push(e)}})})}),d.each(V,function(e,t){u(t,!0)}),P.promise&&P.resolver(f),e();default:if(!d.isPlainObject(g)||$.isEmptyObject(g)){if($.isString(g)&&v.Sequences[g]){var w=h.duration,C=h.delay||0;return!0===h.backwards&&(f=($.isWrapped(f)?[].slice.call(f):f).reverse()),d.each(f,function(e,t){parseFloat(h.stagger)?h.delay=C+parseFloat(h.stagger)*e:$.isFunction(h.stagger)&&(h.delay=C+h.stagger.call(t,e,m)),h.drag&&(h.duration=parseFloat(w)||(/^(callout|transition)/.test(g)?1e3:400),h.duration=Math.max(h.duration*(h.backwards?1-e/m:(e+1)/m),.75*h.duration,200)),v.Sequences[g].call(t,t,h||{},e,m,f,P.promise?P:n)}),e()}var k="Velocity: First argument ("+g+") was not a property map, a known action, or a registered sequence. Aborting.";return P.promise?P.rejecter(Error(k)):console.log(k),e()}A="start"}var T={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},E=[];d.each($.isNode(f)?[f]:f,function(e,r){$.isNode(r)&&t.call(r)});var A,H,N=d.extend({},v.defaults,h);if(N.loop=parseInt(N.loop),H=2*N.loop-1,N.loop)for(var j=0;H>j;j++){var L={delay:N.delay};j===H-1&&(L.display=N.display,L.visibility=N.visibility,L.complete=N.complete),v.animate(f,"reverse",L)}return e()}},v.State.isMobile||i.hidden===n||i.addEventListener("visibilitychange",function(){i.hidden?(m=function(e){return setTimeout(function(){e(!0)},16)},l()):m=r.requestAnimationFrame||y}),e&&e.fn?p=e:r.Zepto&&(p=r.Zepto),(p||r).Velocity=v,p&&(p.fn.velocity=v.animate,p.fn.velocity.defaults=v.defaults),d.each(["Down","Up"],function(e,t){v.Sequences["slide"+t]=function(e,r,i,n,o,a){var s=d.extend({},r),l={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},u=s.begin,c=s.complete,p=!1;null!==s.display&&(s.display="Down"===t?s.display||"auto":s.display||"none"),s.begin=function(){function r(){l.height=parseFloat(v.CSS.getPropertyValue(e,"height")),e.style.height="auto",parseFloat(v.CSS.getPropertyValue(e,"height"))===l.height&&(p=!0),v.CSS.setPropertyValue(e,"height",l.height+"px")}if("Down"===t){for(var i in l.overflow=[v.CSS.getPropertyValue(e,"overflow"),0],l.overflowX=[v.CSS.getPropertyValue(e,"overflowX"),0],l.overflowY=[v.CSS.getPropertyValue(e,"overflowY"),0],e.style.overflow="hidden",e.style.overflowX="visible",e.style.overflowY="hidden",r(),l)if(!/^overflow/.test(i)){var n=v.CSS.getPropertyValue(e,i);"height"===i&&(n=parseFloat(n)),l[i]=[n,0]}}else{for(var i in r(),l){var n=v.CSS.getPropertyValue(e,i);"height"===i&&(n=parseFloat(n)),l[i]=[0,n]}e.style.overflow="hidden",e.style.overflowX="visible",e.style.overflowY="hidden"}u&&u.call(e,e)},s.complete=function(e){var r="Down"===t?0:1;for(var i in!0===p?l.height[r]="auto":l.height[r]+="px",l)e.style[i]=l[i][r];c&&c.call(e,e),a&&a.resolver(o||e)},v.animate(e,l,s)}}),d.each(["In","Out"],function(e,t){v.Sequences["fade"+t]=function(e,r,i,n,o,a){var s=d.extend({},r);if(i!==n-1)s.complete=s.begin=null;else{var l=s.complete;s.complete=function(){l&&l.call(e,e),a&&a.resolver(o||e)}}null!==s.display&&(s.display=s.display||("In"===t?"auto":"none")),v.animate(this,{opacity:"In"===t?1:0},s)}}),v}(e||window,window,document)}),function(e,t,r,i){var n="kenburnsy",o={fullscreen:!1,duration:9e3,fadeInDuration:1500,height:null},a={zoomOut:function(t,r){e(t).velocity({rotateZ:"5deg",scale:"P.3"},0).velocity({translateZ:0,rotateZ:"0deg",scale:"1"},r)},zoomIn:function(t,r){e(t).velocity({rotateZ:"0deg",scale:"1"},0).velocity({translateZ:0,rotateZ:"5deg",scale:"P.3"},r)}},s=function(t){var r=function(e){var r=new Image;function i(){n(),e.rejectWith(r)}function n(){r.onload=null,r.onerror=null,r.onabort=null}r.onload=function t(){n(),setTimeout(function(){e.resolve(r)})},r.onerror=i,r.onabort=i,r.src=t};return e.Deferred(r).promise()};function l(t,r){this.el=t,this.$el=e(t),this.settings=e.extend({},o,r),this._defaults=o,this._name=n,this._slides=[],this.currentIndex=0,this.init()}Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),e.extend(l.prototype,{init:function(){var t,r=this.settings,i=this;t=this.$el.children().map(function(e,t){return t.src}),this.$el.addClass(function(){var e=[n];return r.fullscreen&&e.push("fullscreen"),e.join(" ")}),e.when.apply(e,e.map(t,s)).done(function(){var e=Array.prototype.slice.call(arguments);i.buildScene(e)})},reveal:function(t){var r=this._slides[t],i=this.$el;e(r).velocity({opacity:0},0,function(){e(this).appendTo(i)}).velocity({opacity:1,translateZ:0},{duration:this.settings.fadeInDuration,queue:!1})},animate:function(e){var t=Object.keys(a),r=a[t[Math.floor(t.length*Math.random())]],i=this.settings.duration;r(this._slides[e],i)},show:function(e){this.reveal(e),this.animate(e)},next:function(){this.currentIndex=0===this.currentIndex?this._slides.length-1:this.currentIndex-1,this.show(this.currentIndex)},addSlides:function(t){var i=this.el;return e.map(t.reverse(),function(e){var t=r.createElement("div");return t.style.backgroundImage="url("+e.src+")",t.className="slide",i.appendChild(t),t})},buildScene:function(e){var t=this,r=this.settings;this.el.innerHTML="",this._slides=this.addSlides(e),this.currentIndex=e.length-1,r.fullscreen||(this.el.style.height=this.settings.height||e[this.currentIndex].height+"px"),this.animate(this.currentIndex),setInterval(function(){t.next()},r.duration-r.fadeInDuration)}}),e.fn[n]=function(t){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new l(this,t))}),this}}(jQuery,window,document);